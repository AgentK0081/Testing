<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FBI TEAM ROBLOX – RP Directory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ================== THEME (EASY TO REMOVE) ================== -->
  <style>
    :root {
      --bg: #0b0d10;
      --card: #11141a;
      --gold: #c9a44a;
      --red: #ff2b2b;
      --text: #eaeaea;
      --muted: #9aa0aa;
    }

    body.light {
      --bg: #f2f2f2;
      --card: #ffffff;
      --text: #111;
      --muted: #555;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, #111 0%, var(--bg) 60%);
      color: var(--text);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 22px;
      background: linear-gradient(90deg, #000, #0f1116);
      border-bottom: 1px solid #222;
    }

    header h1 {
      margin: 0;
      font-size: 20px;
      color: var(--gold);
      letter-spacing: 1px;
    }

    nav {
      display: flex;
      gap: 18px;
    }

    nav button {
      background: none;
      border: none;
      color: var(--text);
      font-size: 15px;
      cursor: pointer;
      padding-bottom: 6px;
    }

    nav button.active {
      border-bottom: 3px solid var(--gold);
      color: var(--gold);
    }

    .theme-toggle {
      border: 1px solid #333;
      background: var(--card);
      color: var(--text);
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
    }

    main {
      padding: 24px;
    }

    /* ================== DIVISIONS ================== */
    .division-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 18px;
    }

    .division-card {
      position: relative;
      background: linear-gradient(180deg, #1a1d25, var(--card));
      border-radius: 14px;
      overflow: hidden;
      cursor: pointer;
      border: 1px solid #222;
      transition: transform 0.25s, box-shadow 0.25s;
    }

    .division-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 20px rgba(255, 43, 43, 0.55);
    }

    .division-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      filter: brightness(0.85);
    }

    .division-info {
      padding: 14px;
    }

    .division-info h3 {
      margin: 0 0 6px;
      color: var(--gold);
      letter-spacing: 0.5px;
    }

    .join-btn {
      display: none;
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.75);
      align-items: center;
      justify-content: center;
    }

    .join-btn a {
      background: var(--red);
      padding: 12px 22px;
      border-radius: 10px;
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      box-shadow: 0 0 20px rgba(255,43,43,0.7);
    }

    .division-card:hover .join-btn {
      display: flex;
    }

    /* ================== AGENTS ================== */
    
    .agents-panel {
  width: 100%;
  background: rgba(0,0,0,0.55);
  border-radius: 10px;
  overflow: hidden;
}

.agents-header {
  padding: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(20,20,20,0.9);
}

.agents-header input {
  background: #2a2a2a;
  border: none;
  padding: 8px 12px;
  color: white;
  border-radius: 6px;
  width: 55%;
}

.agent-row {
  display: flex;
  align-items: center;
  padding: 12px;
  cursor: pointer;
  transition: 0.25s;
}

.agent-row:hover {
  background: rgba(255, 215, 0, 0.15);
}

.agent-row.active {
  background: linear-gradient(90deg, #f5c542, #e1b12c);
  color: black;
}

.agent-avatar {
  width: 42px;
  height: 42px;
  border-radius: 6px;
  margin-right: 12px;
}

.agent-info {
  flex-grow: 1;
}

.agent-name {
  font-size: 18px;
  font-weight: bold;
}

.agent-callsign {
  font-size: 14px;
  opacity: 0.8;
}

.agent-status {
  font-size: 14px;
  opacity: 0.85;
}


    footer {
      text-align: center;
      padding: 18px;
      font-size: 13px;
      color: #777;
    }
  </style>
</head>
<body>

<header>
  <h1>FBI TEAM ROBLOX</h1>
  <nav>
    <button class="active" data-tab="divisions">Division</button>
    <button data-tab="agents">Agents</button>
  </nav>
  <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
</header>

<main>
  <!-- ================== DIVISIONS TAB ================== -->
  <section id="divisions">
    <div class="division-grid" id="divisionGrid"></div>
  </section>

  <!-- ================== AGENTS TAB ================== -->
  <!-- ================= AGENTS TAB ================= -->
<section id="agents" style="display:none;">

  <div class="agents-panel">
    <div class="agents-header">
      <span>Agents (<span id="agentCount"></span>)</span>
      <input
        type="text"
        id="agentSearch"
        placeholder="Search Agents"
        oninput="renderAgents()"
      />
    </div>

    <div id="agentList"></div>
  </div>

</section>

</main>

<footer>FBI TEAM ROBLOX – RP Directory</footer>

<!-- ================== DATA FILES ================== -->
<script src="members.js"></script>
<script src="divisions.js"></script>

<script>
  const agentList = document.getElementById("agentList");
const agentCount = document.getElementById("agentCount");

function renderAgents() {
  const search = document.getElementById("agentSearch").value.toLowerCase();
  agentList.innerHTML = "";

  const filtered = agents.filter(a =>
    a.username.toLowerCase().includes(search) ||
    a.callsign.toLowerCase().includes(search)
  );

  agentCount.textContent = filtered.length;

  filtered.forEach(agent => {
    const row = document.createElement("div");
    row.className = "agent-row";

    row.innerHTML = `
      <img class="agent-avatar"
        src="https://www.roblox.com/headshot-thumbnail/image?userId=1&width=48&height=48&format=png">
      <div class="agent-info">
        <div class="agent-name">${agent.username}</div>
        <div class="agent-callsign">${agent.callsign}</div>
      </div>
      <div class="agent-status">
        ${agent.suspended ? "Suspended" : agent.rank}
      </div>
    `;

    row.onclick = () => {
      document.querySelectorAll(".agent-row").forEach(r => r.classList.remove("active"));
      row.classList.add("active");
    };

    agentList.appendChild(row);
  });
}

  function setupRanks() {
    [...new Set(agents.map(a => a.rank))].forEach(r => {
      const opt = document.createElement("option");
      opt.value = r;
      opt.textContent = r;
      rankFilter.appendChild(opt);
    });
  }

  function renderDivisions() {
    const grid = document.getElementById("divisionGrid");
    divisions.forEach(d => {
      const card = document.createElement("div");
      card.className = "division-card";
      card.innerHTML = `
        <img src="${d.image}" alt="${d.name}">
        <div class="division-info">
          <h3>${d.name}</h3>
          <div>${d.description}</div>
        </div>
        <div class="join-btn">
          <a href="${d.discord}" target="_blank">Join Now</a>
        </div>
      `;
      grid.appendChild(card);
    });
  }

  document.querySelectorAll("nav button").forEach(btn => {
    btn.onclick = () => {
      document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      document.getElementById("divisions").style.display = btn.dataset.tab === "divisions" ? "block" : "none";
      document.getElementById("agents").style.display = btn.dataset.tab === "agents" ? "block" : "none";
    };
  });

  function toggleTheme() {
    document.body.classList.toggle("light");
  }

  searchInput.oninput = renderAgents;
  rankFilter.onchange = renderAgents;

  setupRanks();
  renderAgents();
  renderDivisions();
</script>

</body>
</html>
